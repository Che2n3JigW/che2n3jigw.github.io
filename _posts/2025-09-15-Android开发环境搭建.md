---
categories: Env
title: Android 开发环境搭建
toc: true
---

本文档将指导您如何在本地搭建 Android 开发环境，并创建您的第一个 Android 项目。

# 下载 Android Studio

首先，您需要下载 Android Studio，这是 Google 官方推荐的集成开发环境（IDE），专门用于开发 Android 应用。

- 访问 [Android Studio 官方下载页面](https://developer.android.com/studio?hl=zh-cn)。
- 根据您的操作系统选择合适的版本（Windows、macOS 或 Linux）。

# 安装 Android Studio 指南

## 下载完成后，请按照以下步骤进行安装

下载完成后，开始安装 Android Studio。安装过程中，您将安装 Android SDK、Android Virtual Device（AVD）以及其他必要的工具。

### 第一步：启动安装程序

![安装向导第一步]({{ site.baseurl }}/assets/images/env/android/Step1.png)

点击 **Next** 进入下一步

---


### 第二步：选择组件

![选择安装组件]({{ site.baseurl }}/assets/images/env/android/Step2.png)

- **Android Virtual Device**: 按需选择是否安装
- *提示：如果暂时不需要使用模拟器，可以取消勾选以节省磁盘空间和安装时间*

点击 **Next** 继续

---

### 第三步：选择安装位置

![选择安装路径]({{ site.baseurl }}/assets/images/env/android/Step3.png)

选择 Android Studio 的安装路径后点击 **Next**

---

### 第四步：确认安装

![开始安装]({{ site.baseurl }}/assets/images/env/android/Step4.png)

点击 **Install** 开始安装

---

### 第五步：安装进行中

![安装进度]({{ site.baseurl }}/assets/images/env/android/Step5.png)

等待安装进度完成，然后点击 **Next**

------

### 第六步：完成安装

![安装完成]({{ site.baseurl }}/assets/images/env/android/Step6.png)

点击 **Finish** 完成安装并启动 Android Studio

------

### 第七步：初始设置

![欢迎界面]({{ site.baseurl }}/assets/images/env/android/Step7.png)

点击 **Next** 继续初始设置

------

### 第八步：安装类型选择

![安装类型选择]({{ site.baseurl }}/assets/images/env/android/Step8.png)

- **Standard**: 标准安装（SDK 默认安装在 C 盘）
- **Custom**: 自定义安装（推荐）
- *建议选择 Custom，可将 SDK 安装到其他分区，避免后续开发文件占用过多系统盘空间*

------

### 第九步：自定义 SDK 设置

![SDK设置]({{ site.baseurl }}/assets/images/env/android/Step9.png)

1. **Android Virtual Device**: 按需选择是否安装模拟器
2. **Performance**: 按需选择性能监控工具
3. **Android SDK Location**: 设置 SDK 安装路径（建议选择非系统盘）

点击 **Next** 继续

---

### 第十步：确认设置

![确认设置]({{ site.baseurl }}/assets/images/env/android/Step10.png)

检查设置无误后，点击 **Next**

------

### 第十一步：下载组件

![下载组件]({{ site.baseurl }}/assets/images/env/android/Step11.png)

点击 **Finish** 开始下载必要的 SDK 组件

------

### 第十二步：安装完成

![安装完成]({{ site.baseurl }}/assets/images/env/android/Step12.png)

🎉 **恭喜！Android Studio 已成功安装完成**


### （可选）修改 Gradle User Home 路径

此步骤非安装向导内容，但对管理磁盘空间至关重要。Gradle 会在用户目录（C:\Users\[用户名]\.gradle）下缓存所有项目的依赖库，长期开发会占用大量 C 盘空间。

1. 打开环境变量设置（Win键 - 搜索'环境' - 高级 - 环境变量 - 系统变量 - 新建）
![环境变量1]({{ site.baseurl }}/assets/images/env/android/Gradle_User_Path_1.png)
![环境变量2]({{ site.baseurl }}/assets/images/env/android/Gradle_User_Path_2.png)
![环境变量3]({{ site.baseurl }}/assets/images/env/android/Gradle_User_Path_3.png)

2. 新建系统变量 - 变量名（GRADLE_USER_HOME） - 变量值（希望Gradle存放的路径）
![环境变量4]({{ site.baseurl }}/assets/images/env/android/Gradle_User_Path_4.png)

### (可选) 设置ANDROID_USER_HOME环境变量

此步骤非安装向导内容，但对管理磁盘空间至关重要。该环境变量为 Android SDK 中包含的工具设置用户偏好设置目录的路径。 默认为 $HOME/.android/。创建的虚拟设备会存放在该路径下，虚拟设备越多占用 C 盘空间越多。

新建系统变量 - 变量名（ANDROID_USER_HOME） - .android路径
![环境变量]({{ site.baseurl }}/assets/images/env/android/Gradle_Android_User_Home_Path.png)

> Android系统镜像有时候下载很慢，我是直接获取镜像下载路径用idm下载(https://dl.google.com/android/repository/sys-img/google_apis_playstore/x86_64-36_r07.zip)，下载完成后将压缩包解压到
`E:\Program Files\Android\Sdk\system-images\android-36\google_apis_playstore`下，之后重启Android Studio就识别到了,`E:\Program Files\Android\Sdk`为Android SDK 路径。



# 创建第一个项目

## New Project

![创建]({{ site.baseurl }}/assets/images/env/android/Step15.png)
![创建]({{ site.baseurl }}/assets/images/env/android/Step16.png)
![创建]({{ site.baseurl }}/assets/images/env/android/Step17.png)

---

## 配置Gradle镜像和maven远程库

项目打开后我们先不着急让Android Studio下载 **Gradle** 和 **远程依赖**, 先点击x停止。有些资源是国外了，国内访问速度可能受限，配置镜像可以帮助我们更快地加载项目。

![创建]({{ site.baseurl }}/assets/images/env/android/Step18.png)

### 配置Gradle镜像

找到gradle-wrapper.properties文件, 在[腾讯Gradle镜像](https://mirrors.cloud.tencent.com/gradle/)中找到自己项目版本的Gradle,
并对distributionUrl地址进行替换

> 注意: 选择all版本

![创建]({{ site.baseurl }}/assets/images/env/android/Step19.png)

### 配置maven

找到settings.gradle.kts文件，在[阿里云Maven镜像](https://maven.aliyun.com/mvn/guide)按需求添加镜像。

``` 
pluginManagement {
    repositories {
        google {
            content {
                includeGroupByRegex("com\\.android.*")
                includeGroupByRegex("com\\.google.*")
                includeGroupByRegex("androidx.*")
            }
        }
        gradlePluginPortal()
        maven {
            url = uri("https://maven.aliyun.com/repository/gradle-plugin")
        }
    }
}
dependencyResolutionManagement {
    repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)
    repositories {
        google()
        maven {
            url = uri("https://maven.aliyun.com/repository/public")
        }
    }
}
```

![创建]({{ site.baseurl }}/assets/images/env/android/Step20.png)
